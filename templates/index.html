<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css" media="all" />
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>
</head>

<body>
    <style>
        .emoji {
            width: 50px;
            height: 50px;
            float: left;
            margin: 5px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            transition: font-size 0.2s ease-in-out;
        }

        .emoji:hover {
            font-size: 50px;
        }
    </style>
    <h1>hemiSpeaker</h1>

    <div class="container">
        <form class="col-md-12">
            <div class="">
                <p>Speaker 1</p>
                <form class="range-field">
                  <input id="speaker_1"" type="range" min="0" max="127" />
                </form>
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_1"></span>
                <p>Speaker 2</p>
                <input id="speaker_2"" type="range" min="0" max="127" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_2"></span>
                <p>Speaker 3</p>
                <input id="speaker_3"" type="range" min="0" max="127" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_3"></span>
                <p>Speaker 4</p>
                <input id="speaker_4"" type="range" min="0" max="127" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_4"></span>
                <p>Speaker 5</p>
                <input id="speaker_5"" type="range" min="0" max="127" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_5"></span>
            </div>
        </form>
    </div>
   
    
  
    <script>
        var apiUrl = "http://127.0.0.1:5000/api/volume/";

        $(document).ready(function () {
            const $spanSpeaker_1 = $('.speaker_1');
            const $speaker_1_Value = $('#speaker_1');
            $spanSpeaker_1.html($speaker_1_Value.val());
            $speaker_1_Value.on('input change', () => {
                $spanSpeaker_1.html($speaker_1_Value.val());
                console.log($speaker_1_Value.val())
                $.post(apiUrl+'speaker_1', {value : $speaker_1_Value.val()});
                
            });


            const $spanSpeaker_2 = $('.speaker_2');
            const $speaker_2_Value = $('#speaker_2');
            $spanSpeaker_2.html($speaker_2_Value.val());
            $speaker_2_Value.on('input change', () => {
                $spanSpeaker_2.html($speaker_2_Value.val());
                console.log($speaker_2_Value.val())
                $.post(apiUrl+'speaker_2', {value : $speaker_2_Value.val()});
                
            });

            const $spanSpeaker_3 = $('.speaker_3');
            const $speaker_3_Value = $('#speaker_3');
            $spanSpeaker_3.html($speaker_3_Value.val());
            $speaker_3_Value.on('input change', () => {
                $spanSpeaker_3.html($speaker_3_Value.val());
                console.log($speaker_3_Value.val())
                $.post(apiUrl+'speaker_3', {value : $speaker_3_Value.val()});
                
            });

            const $spanSpeaker_4 = $('.speaker_4');
            const $speaker_4_Value = $('#speaker_4');
            $spanSpeaker_4.html($speaker_4_Value.val());
            $speaker_4_Value.on('input change', () => {
                $spanSpeaker_4.html($speaker_4_Value.val());
                console.log($speaker_4_Value.val())
                $.post(apiUrl+'speaker_4', {value : $speaker_4_Value.val()});
                
            });


            const $spanSpeaker_5 = $('.speaker_5');
            const $speaker_5_Value = $('#speaker_5');
            $spanSpeaker_5.html($speaker_5_Value.val());
            $speaker_5_Value.on('input change', () => {
                $spanSpeaker_5.html($speaker_5_Value.val());
                console.log($speaker_5_Value.val())
                $.post(apiUrl+'speaker_5', {value : $speaker_5_Value.val()});
                
            });
            

            $("#send").click(function () {
                console.log('SENDING MESSAGE');
                var chat = $('#message').val();
                message = {
                    message: chat
                }
                console.log(message)
                $.post(apiUrl, message,
                    function (data, status, jqXHR) {
                        $('#history').append('YOU : ' + chat + '<br>');
                        $('#history').append('VOCOBOT : ' + data + '<br>');
                    })

                $('#message').val('');
            });
            $('#message').keypress(function (e) {
                var key = e.which;
                if (key == 13) // the enter key code
                {
                    $('#send').click();
                    return false;
                }
            });



        });
    </script>
</body>

</html>