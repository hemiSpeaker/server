<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css" media="all" />
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>
</head>

<body>
    <style>
        .emoji {
            width: 50px;
            height: 50px;
            float: left;
            margin: 5px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            transition: font-size 0.2s ease-in-out;
        }

        .emoji:hover {
            font-size: 50px;
        }
    </style>
    <h1>hemiSpeaker</h1>

    <div class="container">
        <form class="col-md-12">
            <h1>Volume</h1>
            <div class="">
                <p>Speaker 0</p>
                <form class="range-field">
                  <input id="speaker_0"" type="range" min="0" max="200" />
                </form>
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_0"></span>
                <p>Speaker 1</p>
                <input id="speaker_1"" type="range" min="0" max="200" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_1"></span>
                <p>Speaker 2</p>
                <input id="speaker_2"" type="range" min="0" max="200" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_2"></span>
                <p>Speaker 3</p>
                <input id="speaker_3"" type="range" min="0" max="200" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_3"></span>
                <p>Speaker 4</p>
                <input id="speaker_4"" type="range" min="0" max="200" />
                <span class="font-weight-bold text-primary ml-2 mt-1 speaker_4"></span>
            </div>
            <h1>Pan</h1>
                <p>Position</p>
                <input id="pan_pos"" type="range" min="0" max="200" />
                <span class="font-weight-bold text-primary ml-2 mt-1 pan_pos"></span>
            <p>Distance</p>
            <input id="dist_pos"" type="range" min="0" max="200" />
            <span class="font-weight-bold text-primary ml-2 mt-1 dist_pos"></span>
        </form>
    </div>



    <script>
        var apiUrl = "http://127.0.0.1:5000/api/volume/";

        $(document).ready(function () {


            speakerVol("speaker_0")
            speakerVol("speaker_1")
            speakerVol("speaker_2")
            speakerVol("speaker_3")
            speakerVol("speaker_4")
            speakerPan("pan_pos")

            function speakerVol(speakerName) {
                const spanSpeaker = $('.'+ speakerName);
                const speakerValue = $('#' + speakerName);
                spanSpeaker.html(speakerValue.val());
                speakerValue.on('input change', () => {
                    spanSpeaker.html(speakerValue.val());
                    console.log(speakerValue.val())
                    $.post(apiUrl+speakerName, {
                            value : speakerValue.val()
                        });
                });
            }

            function speakerPan(panInput) {
                const panPos = $('.'+ panInput);
                const panPosVal = $('#' + panInput);
                panPos.html(panPosVal.val());
                panPosVal.on('input change', () => {
                    panPos.html(panPosVal.val());
                    console.log(panPosVal.val())

                    $.post(apiUrl+"panPos", {
                            value : panPosVal.val()
                    });
                
                });
            }

            function speakerDist(distPos) {
                const spanSpeaker = $('.'+ distPos);
                const speakerValue = $('#' + distPos);
                spanSpeaker.html(speakerValue.val());
                speakerValue.on('input change', () => {
                    spanSpeaker.html(speakerValue.val());
                    console.log(speakerValue.val())
                    $.post(apiUrl+distPos, {
                            value : speakerValue.val()
                        });
                });
            }

        });
    </script>
</body>

</html>
